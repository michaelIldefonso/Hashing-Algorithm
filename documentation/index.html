<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bishash Documentation</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

<header>
    <div class="logo">
        <img class="logo-img" src="tupeNation.png" alt="Logo">
        <span class="logo-text">Bishash</span>
        <span class="logo-subtext">DOCUMENTATION</span>    
    </div>
    
</header>
<button class="burger" aria-label="Toggle navigation">
    &#9776;
</button>


<div class="container">
    <nav class="navbar">
        <button class="close" aria-label="Close navigation">&times;</button>
        <ul>
            <li><a href="#Overview">Overview</a></li>
            <li><a href="#Features">Features</a></li>
            <li><a href="#Requirements">Requirements</a></li>
            <li><a href="#Installation">Installation</a></li>
            <li><a href="#SecurityConsiderations">Security Considerations</a></li>
            <li><a href="#APIIntegration">API Integration</a></li>
            <li><a href="#testingFaq">Testing and FAQ</a></li>
            <li><a href="#troubleshoot">Troubleshoot Guide</a></li>
            <li><a href="#Examples">Sample</a></li>
            <!--<li><a href="testpage.html" class="try-it-link">Try It!</a></li>-->
        </ul>
    </nav>

    <div class="content">
        <div class="box">
            <h1 id="Overview">Overview</h1>
            <p>This documentation provides an overview of secure password management using Argon2 hashing, rate limiting, 
                and a strong password policy in Python. The following code enforces password strength and limits repeated 
                hashing attempts for added security.</p>
        </div>

        <div class="box">
            <h1 id="Features">Features</h1>

            <h2>1. Strong Password Policy Enforcement</h2>
            <p>This feature ensures that users create secure passwords by enforcing a set of criteria. The <code>is_strong_password</code> function checks the password length, the presence of uppercase and lowercase letters, at least one digit, and at least one special character.</p>
            <pre><code>
            <span class="keyword">import</span> re

            <span class="keyword">def</span> <span class="function">is_strong_password</span>(passW):
            <span class="comment"># Check password length</span>
            <span class="keyword">if</span> <span class="keyword">len</span>(passW) < 12:
                <span class="keyword">return</span> <span class="keyword">False</span>, <span class="string">"Password must be at least 12 characters long."</span>

            <span class="comment"># Check for uppercase</span>
            <span class="keyword">if</span> <span class="keyword">not</span> re.search(r'[A-Z]', passW):
                <span class="keyword">return</span> <span class="keyword">False</span>, <span class="string">"Password must contain at least one uppercase letter."</span>

            <span class="comment"># Check for lowercase letter</span>
            <span class="keyword">if</span> <span class="keyword">not</span> re.search(r'[a-z]', passW):
                <span class="keyword">return</span> <span class="keyword">False</span>, <span class="string">"Password must contain at least one lowercase letter."</span>

            <span class="comment"># Check for digit</span>
            <span class="keyword">if</span> <span class="keyword">not</span> re.search(r'[0-9]', passW):
                <span class="keyword">return</span> <span class="keyword">False</span>, <span class="string">"Password must contain at least one digit."</span>

            <span class="comment"># Check for special character</span>
            <span class="keyword">if</span> <span class="keyword">not</span> re.search(r'[!@#$%^&*(),.?":{}|<>]', passW):
                <span class="keyword">return</span> <span class="keyword">False</span>, <span class="string">"Password must contain at least one special character."</span>

            <span class="keyword">return</span> <span class="keyword">True</span>, <span class="string">"Password is strong."</span>
            </code></pre>
        
            <h2>2. Secure Hashing with Argon2</h2>
            <p>This feature uses Argon2 for secure password hashing. Argon2 is configured with high values for time cost, memory cost, and hash length to increase security.</p>
            <pre><code>
            <span class="keyword">from</span> argon2 <span class="keyword">import</span> PasswordHasher
    
            <span class="comment"># Initialize the PasswordHasher with custom parameters</span>
            ph = PasswordHasher(
                time_cost=12,          <span class="comment"># Number of iterations</span>
                memory_cost=2 ** 16,   <span class="comment"># Memory cost in KiB (65536 KiB or ~64MB)</span>
                parallelism=1,         <span class="comment"># Number of parallel threads</span>
                hash_len=64,           <span class="comment"># Length of the resulting hash in bytes</span>
                salt_len=16            <span class="comment"># Salt length in bytes</span>
            )
            </code></pre>
        
            <h2>3. Pepper for Enhanced Security</h2>
            <p>A "pepper" is added to the password and username to provide an additional layer of security. This static pepper value should be securely managed in a production environment, preferably stored outside of the application code, such as in environment variables.</p>
            <pre><code>
            <span class="comment"># Define a fixed pepper value for additional security</span>
            PEPPER = <span class="string">"&lt;Your_Pepper_Here&gt;"</span>  <span class="comment"># Replace with a securely stored secret in production</span>
            </code></pre>
        
            <h2>4. Rate Limiting</h2>
            <p>This feature uses the <code>sleep_and_retry</code> decorator to limit the number of hashing attempts, mitigating the risk of brute-force attacks by restricting hashing to a maximum of 5 attempts per minute.</p>
            <pre><code>
            <span class="keyword">from</span> ratelimit <span class="keyword">import</span> limits, sleep_and_retry
    
            ONE_MINUTE = 60
    
            <span class="comment"># Rate-limited function to hash the password</span>
            @sleep_and_retry  <span class="comment"># Ensures the function sleeps if the rate limit is reached</span>
            @limits(calls=5, period=ONE_MINUTE)
            <span class="keyword">def</span> <span class="function">bis_hash</span>(name, passwrd):
                combined_input = name + passwrd + PEPPER
                <span class="keyword">return</span> ph.hash(combined_input)
            </code></pre>
        
            <h2>5. Password Hash Verification</h2>
            <p>The <code>verify_password</code> function securely verifies a userâ€™s entered password by combining it with the username and pepper, then checking it against the stored hash.</p>
            <pre><code>
            <span class="keyword">from</span> argon2.exceptions <span class="keyword">import</span> VerifyMismatchError
    
            <span class="keyword">def</span> <span class="function">verify_password</span>(stored_hash, name, entered_password):
                combined_input = name + entered_password + PEPPER
                <span class="keyword">try</span>:
                    ph.verify(stored_hash, combined_input)
                    <span class="keyword">return</span> <span class="keyword">True</span>
                <span class="keyword">except</span> VerifyMismatchError:
                    <span class="keyword">return</span> <span class="keyword">False</span>
            </code></pre>
        </div>


        <div class="box">
            <h1 id="Requirements">Password Hashing Requirements</h1>

            <h2>Python Environment:</h2>
            <p>Ensure you have Python installed (preferably Python 3.6 or newer).</p>

            <h2>Required Libraries:</h2>
            <ul>
                <li><strong>argon2-cffi:</strong> This library is required to use the Argon2 password hashing algorithm.</li>
                <li><strong>ratelimit:</strong> This library is used to limit the number of calls to the <code>bis_hash</code> function, preventing abuse.</li>
                <li><strong>re:</strong> This is part of the standard library and is used for regular expression operations.</li>
            </ul>
            

            <h2>Hashing Parameters:</h2>
            <ul>
                <li><strong>time_cost:</strong> Specifies the number of iterations for the hashing process (increased time cost results in more security).</li>
                <li><strong>memory_cost:</strong> Defines the amount of memory (in bytes) the hashing algorithm can use (in your case, 2<sup>16</sup> bytes).</li>
                <li><strong>parallelism:</strong> The number of parallel threads (your implementation uses a single thread).</li>
                <li><strong>hash_len:</strong> The length of the resulting hash (set to 64 bytes in your implementation).</li>
                <li><strong>salt_len:</strong> The length of the random salt used in the hashing process (set to 16 bytes).</li>
            </ul>

            <h2>Password Policy:</h2>
            <ul>
                <li>Passwords must be at least 12 characters long.</li>
                <li>Passwords must contain:
                    <ul>
                        <li>At least one uppercase letter</li>
                        <li>At least one lowercase letter</li>
                        <li>At least one digit</li>
                        <li>At least one special character from the set <code>!@#$%^&*(),.?":{}|&lt;&gt;</code></li>
                    </ul>
                </li>
            </ul>

            <h2>Rate Limiting:</h2>
            <p>The <code>bis_hash</code> function is rate-limited to 5 calls per minute to prevent brute-force attacks.</p>

            <h2>Security Practices</h2>
            <ul>
                <li><strong>PEPPER:</strong> A static string that should not be exposed. It is added to the password and username before hashing. Ensure this value is kept secret.</li>
                <li><strong>Error Handling:</strong> Ensure proper handling of exceptions, especially during password verification.</li>
                <li><strong>Secure Environment:</strong> Use this implementation in a secure environment, where access to sensitive functions is restricted.</li>
            </ul>
        </div>

        <div class="box">
            <h1 id="Installation">Installation</h1>
            <p>You can install the necessary package using pip:</p>
            <pre>pip install bisHash</pre>

            <p>You can upgrade the algorithm using pip</p>
            <pre>pip install --upgrade bisHash</pre>

            <p>You can import the algorithm by entering this syntax:</p>
            <pre><code><span class="keyword">from</span> <span class="function">bisHash.hashing</span> <span class="keyword">import</span> <span class="function">bis_hash</span>, <span class="function">verify_password</span>, <span class="function">is_strong_password</span></code></pre>
            
        </div>

        <div class="box">
            <h1 id="SecurityConsiderations">Security Considerations</h1>
            <h2>PEPPER Management</h2>
            <p>To securely store the PEPPER value, use a secrets management tool, environment variable, or key management service to avoid hardcoding sensitive values. For example:</p>
            <pre><code>
                <span class="keyword">import</span> os
                PEPPER = os.getenv(<span class="string">"BISHASH_PEPPER"</span>)
            </code></pre>
            <h2>Salt Storage</h2>
            <p>Ensure each userâ€™s salt is unique and securely stored alongside the hash in a database column. This allows for secure password rehashing and migration if needed.</p>
            <h2>Password Reset Process</h2>
            <p>Use a secure, time-limited token for password resets. Tokens should be delivered via a safe channel like email or SMS, and you may request re-authentication before initiating the reset process.</p>
            <h2>Deployment Best Practices</h2>
            <p>Implement HTTPS, firewalls, and monitoring to secure the application in production. Log failed login attempts for detecting unusual activity and use OS-level security practices to restrict access to sensitive functions.</p>
        </div>

        <div class="box">
            <h1 id="APIIntegration">API Integration Guide</h1>
            <p>If you plan to use this hashing functionality over an API, consider these guidelines:</p>
            <h2>Endpoints</h2>
            <p>Define clear API endpoints with required parameters for each action (hash, verify, rate-limit checks). Use secure HTTPS protocols and enforce authentication tokens to ensure requests are valid.</p>
            <h2>Data Security</h2>
            <p>Ensure password data is handled with care in transit. Consider encrypting sensitive data on the client side before sending it to the server for hashing.</p>
        </div>

        <div class="box">
            <h1 id="testingFaq">Testing and FAQ</h1>
            <h2>FAQ</h2>
            <h3>Why use a pepper in addition to salt?</h3>
            <p>Peppers provide an extra layer of security in case of database breaches, as they are stored separately from user-specific salts.</p>

            <h3>How does rate-limiting improve security?</h3>
            <p>Rate-limiting prevents brute-force attacks by slowing down the rate at which hash attempts can be made, adding further protection against password cracking.</p>

            <h3>Why choose Argon2 over bcrypt or PBKDF2?</h3>
            <p>Argon2 is memory-hard and designed specifically to resist attacks by dedicated hardware like GPUs, making it a preferred choice for strong password hashing.</p>

            <h2>Test Coverage Suggestions</h2>
            <p>Create test cases for various password lengths, character combinations, and edge cases such as:</p>
            <ul>
                <li>Short and extremely long passwords</li>
                <li>Unusual or complex character combinations</li>
                <li>Handling of usernames with special or non-ASCII characters</li>
            </ul>
            <pre><code><span class="comment"># Sample Test</span>
                <span class="keyword">username</span> = <span class="string">"test_user"</span>
                <span class="keyword">password</span> = <span class="string">"StrongPassword123!"</span>
                <span class="keyword">is_strong</span>, <span class="keyword">message</span> = <span class="function">is_strong_password</span>(<span class="keyword">password</span>)
                
                <span class="keyword">if</span> <span class="keyword">is_strong</span>:
                    <span class="keyword">hashed_password</span> = <span class="function">bis_hash</span>(<span class="keyword">username</span>, <span class="keyword">password</span>)
                    <span class="function">assert</span> <span class="function">verify_password</span>(<span class="keyword">hashed_password</span>, <span class="keyword">username</span>, <span class="keyword">password</span>) == <span class="keyword">True</span>
                    <span class="function">assert</span> <span class="function">verify_password</span>(<span class="keyword">hashed_password</span>, <span class="keyword">username</span>, <span class="string">"wrong_password"</span>) == <span class="keyword">False</span>
                <span class="keyword">else</span>:
                    <span class="function">print</span>(<span class="keyword">message</span>)
                </code></pre>
                
        </div>

        <div class="box">
            <h1 id="troubleshoot">Troubleshooting Guide</h1>

            <h2>1. Module Import Errors</h2>
            <p><strong>Problem:</strong> ImportError when trying to import limits or PasswordHasher.</p>
            <p><strong>Solution:</strong> Ensure you have installed the required libraries:</p>
            <pre><code>pip install argon2-cffi python-ratelimit</code></pre>

            <h2>2. Attribute Errors</h2>
            <p><strong>Problem:</strong> AttributeError when calling methods or accessing attributes.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Ensure you are using the correct method names (e.g., <code>ph.hash()</code> and <code>ph.verify()</code>) and that the <code>PasswordHasher</code> class has been initialized correctly.</li>
                <li>Verify the library versions to ensure they support the used attributes/methods.</li>
            </ul>

            <h2>3. Rate Limiting Issues</h2>
            <p><strong>Problem:</strong> Exceeding the rate limit and getting <code>RateLimitException</code>.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Adjust the rate limit in the <code>@limits(calls=5, period=ONE_MINUTE)</code> decorator to suit your application's needs.</li>
                <li>Ensure that the <code>bis_hash</code> function is called no more than the allowed number of times within the specified period.</li>
            </ul>

            <h2>4. Password Strength Validation Failures</h2>
            <p><strong>Problem:</strong> Passwords that do not meet strength criteria fail validation.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Check the password you are testing against the rules defined in the <code>is_strong_password</code> function.</li>
                <li>Make sure the password is at least 12 characters long, contains upper and lower case letters, digits, and special characters.</li>
            </ul>

            <h2>5. Hash Verification Failures</h2>
            <p><strong>Problem:</strong> <code>VerifyMismatchError</code> when verifying passwords.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Ensure that the correct stored hash is being used for verification.</li>
                <li>Double-check that the same <code>PEPPER</code> is being used during hashing and verification.</li>
                <li>Make sure that both <code>name</code> and <code>entered_password</code> are correctly concatenated in the same order as during hashing.</li>
            </ul>

            <h2>6. Hashing Empty or Short Passwords</h2>
            <p><strong>Problem:</strong> Errors when hashing an empty password or one that is too short.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Always validate the password with the <code>is_strong_password</code> function before attempting to hash it.</li>
                <li>Handle invalid passwords gracefully by returning a meaningful error message.</li>
            </ul>

            <h2>7. Performance Issues</h2>
            <p><strong>Problem:</strong> Slow performance when hashing due to high <code>time_cost</code>.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Adjust the <code>time_cost</code> parameter in the <code>PasswordHasher</code> initialization. A lower value will speed up hashing but may reduce security.</li>
                <li>Be mindful of the <code>memory_cost</code>, which should be set according to the resources available.</li>
            </ul>

            <h2>8. Debugging Logs</h2>
            <p><strong>Problem:</strong> Difficulty identifying the source of errors.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Add logging statements throughout the code to track variable values and program flow. For example:</li>
            </ul>
            <pre><code><span class="import">import</span> <span class="keyword">logging</span>

                <span class="function">logging.basicConfig</span>(<span class="keyword">level</span>=<span class="string">logging.DEBUG</span>)

                <span class="function">def</span> <span class="function">bis_hash</span>(<span class="keyword">name</span>, <span class="keyword">passwrd</span>):
                    <span class="function">logging.debug</span>(<span class="string">f"Hashing password for user: {name}"</span>)
                    <span class="comment"># Additional code here...</span>
            </code></pre>

            <h2>9. Testing Password Hashing and Verification</h2>
            <p><strong>Problem:</strong> Uncertainty if hashing and verification work as expected.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Create test cases to verify that hashing and verification function correctly:</li>
            </ul>
            <pre><code><span class="comment"># Example test case</span>
            <span class="keyword">user_name</span> = <span class="string">"test_user"</span>
            <span class="keyword">password</span> = <span class="string">"StrongPassword123!"</span>
            <span class="keyword">is_strong</span>, <span class="keyword">message</span> = <span class="function">is_strong_password</span>(<span class="keyword">password</span>)
            <span class="keyword">if</span> <span class="keyword">is_strong</span>:
                <span class="keyword">hashed_password</span> = <span class="function">bis_hash</span>(<span class="keyword">user_name</span>, <span class="keyword">password</span>)
                <span class="function">assert</span> <span class="function">verify_password</span>(<span class="keyword">hashed_password</span>, <span class="keyword">user_name</span>, <span class="keyword">password</span>) == <span class="string">True</span>
                <span class="function">assert</span> <span class="function">verify_password</span>(<span class="keyword">hashed_password</span>, <span class="keyword">user_name</span>, <span class="string">"wrong_password"</span>) == <span class="string">False</span>
            <span class="keyword">else</span>:
                <span class="function">print</span>(<span class="keyword">message</span>)
            </code></pre>
        </div>

        <div class="box">
            <h1 id="Examples">Sample Sign up</h1>
            <pre><code><span class="keyword">from</span> <span class="function">bisHash.hashing</span> <span class="keyword">import</span> <span class="function">bis_hash</span>, <span class="function">verify_password</span>, <span class="function">is_strong_password</span>
                <span class="comment">Sign up sample</span>
                <span class="keyword">Email:</span> <span class="string">"miko123@gmail.com"</span>
                <span class="keyword">Password:</span> <span class="string">"miko123456789"</span>
                
                <span class="comment"># Expected Hashed Password</span>
                <span class="keyword">Expected hashed_password:</span> <span class="string">$argon2id$v=19$m=65536,t=12,p=1$0yTpXqY2PzpgLu8pN8fxKg$u0CVOOwywmEy+paA
                    BuXm5KfrYoq5OWzRtCj1rHSRbUpY1WDZSnU7bov9TAMp7jjMKBq+Zz7Z4HnINDH0HBQceg</span>
                </code></pre>
        </div>
    </div>
</div>

    

    <footer class="footer">
        <p>&copy; 2024 Bishash. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>

</html>
